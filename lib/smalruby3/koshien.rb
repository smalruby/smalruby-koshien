require "singleton"

module Smalruby3
  # スモウルビー甲子園のAIを作るためのクラス
  class Koshien
    include Singleton

    def initialize
    end

    # --------------------------------------------------------------------------------
    # :section: 使用回数に制限がある命令
    # 1ターン内での使用回数に制限がある命令です。使用回数を超えた命令は無視されます。
    # --------------------------------------------------------------------------------

    # :call-seq:
    #   koshien.connect_game(name: "player1")
    #
    # プレイヤー名を (player1) にして、ゲームサーバーへ接続する
    #
    # #### 実行内容
    #
    # - ゲーム時に指定したプレイヤー名が表示されます。
    # - ゲームサーバーへ接続します。
    #
    # #### 引数
    #
    # - name: プレイヤー名を指定します。
    #
    # #### 解説
    #
    # - プレイヤーの名前は文字列14文字まで指定できます。
    #
    # #### 制限
    # - 1ゲームにつき1回しか実行できません。
    # - 2回目以降は無視されます。
    def connect_game(name:)
      warn "DEBUG original connect_game called with: #{name.inspect}"
      log(%(プレイヤー名を設定します: name="#{name}"))
    end

    # :call-seq:
    #   koshien.get_map_area("0:0")
    #
    # 座標が (0:0) 付近のマップ情報を取得する
    #
    # #### 実行内容
    #
    # - 指定した座標を中心とした5マス×5マスの範囲のマップ情報をゲームサーバーから取得します。
    #
    # #### 引数
    #
    # - マップ情報を取得したい範囲の中心の座標 `"x:y"` 形式を指定します。
    #
    # #### 解説
    #
    # - 取得できるマップ情報は、指定した範囲の以下の情報です。
    #     - マップ構成（空間・壁・水たまり・ゴール・壊せる壁）
    #     - 加点アイテム、減点アイテムがある場合は、その座標と種類解説
    #     - 対戦相手が指定範囲内にいる場合はその座標
    #     - 妨害キャラクタの現ターン開始時点の座標と前ターン開始時点の座標
    #     - （妨害キャラクタのみは指定範囲内にいなくても情報取得が可能）
    # - 取得したマップ情報は map 命令で参照します。
    #
    # #### 制限
    #
    # - move_to, get_map_area, set_dynamite, set_bomb の使用回数は1ターンにいずれか2回
    # - ただし、move_to 以外は同じ命令を2回使用することも可能です。
    #     - 使用回数を超えた命令は無視されます。
    def get_map_area(position)
      # Stub implementation - returns nil
      nil
    end

    # :call-seq:
    #   koshien.move_to("0:0")
    #
    # 座標 (0:0) に移動する
    #
    # #### 実行内容
    #
    # - 指定した座標にプレイヤーが1マス移動します。
    # - 指定できるのは現在地から東西南北の1マスです。（斜めには移動できません）
    #
    # #### 引数
    #
    # - 移動先の座標 `"x:y"` 形式を指定します。
    #
    # #### 解説
    #
    # - 移動できるのは空間と水たまりだけで、壁には移動できません。
    # - 移動できない座標を指定した場合、使用回数はカウントされますが、実行は無視されます。
    # - 水たまりに移動した場合は、次回の移動命令が無視されます。（使用回数はカウントされます。）
    #
    # #### 制限
    #
    # - 1ターンに1回のみ
    # - move_to, get_map_area, set_dynamite, set_bomb の使用回数は1ターンにいずれか2回
    # - ただし、move_to 以外は同じ命令を2回使用することも可能です。
    #     - 使用回数を超えた命令は無視されます。
    def move_to(position)
      # Stub implementation - returns nil
      nil
    end

    # :call-seq:
    #   koshien.set_dynamite("0:0")
    #
    # [ダイナマイト] を座標 (0:0) に置く
    #
    # #### 実行内容
    #
    # - ダイナマイトを現在地又は隣接する東西南北のマスに設置します。
    #
    # #### 引数
    #
    # - ダイナマイトを設置したい座標 `"x:y"` 形式を指定します
    # - 引数を省略した場合は現在地にダイナマイトを設置します。
    #
    # #### 解説
    #
    # - ダイナマイトは、空間または水たまりの上に置くことができます。アイテムがあるマスには設置できません。
    # - ダイナマイトは１ラウンドに2回まで設置できます。
    # - 無効な座標を指定した場合、設置されませんが、ダイナマイトは1つ消費され、使用回数もカウントされます。
    # - 両プレイヤーが同じ座標に同時にダイナマイトを設置した場合、両プレイヤーとも設置は成功しますが、ダイナマイトは1つだけ設置されたことになります。
    # - ダイナマイトは設置したターンの終了時に爆発します。
    # - ダイナマイトが爆発すると、ダイナマイトのマスに隣接する「壊せる壁」は「空間」になり、次のターンから移動可能になります。
    # - ダイナマイトの爆発は「壊せる壁」以外の地形、プレイヤー、妨害キャラクタ、アイテムに影響を与えません。ダイナマイトが爆発したマスや隣接したマスにプレイヤーがいても減点されることはありません。
    #
    # #### 制限
    #
    # - move_to, get_map_area, set_dynamite, set_bomb の使用回数は1ターンにいずれか2回
    # - ただし、move_to 以外は同じ命令を2回使用することも可能です。
    #     - 使用回数を超えた命令は無視されます。
    def set_dynamite(position)
      # Stub implementation - returns nil
      nil
    end

    # :call-seq:
    #   koshien.set_bomb("0:0")
    #
    # [爆弾] を座標 (0:0) に置く
    #
    # #### 実行内容
    #
    # - 爆弾を現在地又は隣接する東西南北のマスに設置します。
    #
    # #### 引数
    #
    # - 爆弾を設置したい座標 `"x:y"` 形式を指定します
    # - 引数を省略した場合は現在地に爆弾を設置します。
    #
    # #### 解説
    #
    # - 爆弾は、空間または水たまりの上に置くことができます。アイテムがあるマスには設置できません。
    # - 爆弾は１ラウンドに2回まで設置できます。
    # - 無効な座標を指定した場合、設置されませんが、爆弾は1つ消費され、使用回数もカウントされます。
    # - 両プレイヤーが同じ座標に同時に爆弾を設置した場合、両プレイヤーとも設置は成功しますが、爆弾は1つだけ設置されたことになります。
    #
    # #### 制限
    #
    # - move_to, get_map_area, set_dynamite, set_bomb の使用回数は1ターンにいずれか2回
    # - ただし、move_to 以外は同じ命令を2回使用することも可能です。
    #     - 使用回数を超えた命令は無視されます。
    def set_bomb(position)
      # Stub implementation - returns nil
      nil
    end

    # :call-seq:
    #   koshien.turn_over
    #
    # ターンを終了する
    #
    # #### 実行内容
    #
    # - 現在のターンを終了させ、次のターンを待ちます。
    #
    # #### 解説
    #
    # - 必ずターンの最後に1回実行する必要があります。
    # - **ターン終了を実行しないとタイムアウトでゲームが終了します。**
    #
    # #### 制限
    #
    # - (実行するとターンが終了するので) 1ターンに1回のみ
    def turn_over
      # Stub implementation - returns nil
      nil
    end

    # --------------------------------------------------------------------------------
    # :section: 使用回数の制限がない命令
    # 制限がなく、1ターン内で何度も使える命令です。
    # --------------------------------------------------------------------------------

    # :call-seq:
    #   koshien.position(0, 0) -> String
    #
    # 座標 (0) (0)
    #
    # #### 実行内容
    #
    # - x座標とy座標を `"x:y"` 形式の座標に変換します。
    #
    # #### 引数
    #
    # - x座標とy座標
    #
    # #### 解説
    #
    # - 各命令の引数に指定しやすいようにx座標とy座標の形式を変換できます。
    #
    #     ```ruby
    #     koshien.move_to(koshien.position(7, 7))
    #     ```
    def position(x, y)
      Position.new(x, y).to_s
    end

    # :call-seq:
    #   koshien.calc_route(result: list("$最短経路"), src: "0:0", dst: "0:0", except_cells: list("$通らない座標"))
    #
    # ２点間の最短経路 (始点 座標 (0:0) 、終点 座標 (0:0) 、通らない座標 リスト [通らない座標]) をリスト [最短経路] に保存する
    #
    # #### 実行内容
    #
    # - 指定した2点間の最短ルートを探します。
    # - 座標(`"x:y"`形式)のリストを通らない座標として指定すると、その座標を通らない経路を探します。
    # - 始点から終点までの座標(`"x:y"`形式)のリストを指定したリストに保存します。
    #
    # #### 引数
    #
    # - src: 始点の座標 `"x:y"` 形式を指定します。
    # - dst: 終点の座標 `"x:y"` 形式を指定します。
    # - except_cells: 経路を探すときに通ってほしくない座標(`"x:y"`形式)のリストを指定します。
    # - result: 探した最短経路の座標(`"x:y"`形式)のリストを保存するリストを指定します。
    #
    # #### 解説
    #
    # - 最短経路の座標のリストは「始点,次の移動先,･･･経路順の座標･･･,終点」の順番に並んでいます。
    # - 最短経路の各座標は並び順に0,1,2,3･･･の番号で指定できます。
    # - 指定した条件での経路がない場合は始点の座標が1つだけのリストが保存されます。
    # - get_map_area 命令でマップ情報を取得していない範囲のマス（未探索のマス）は全て移動可能とみなして経路探索するので注意が必要です。
    #   ただし、判明している空間マスがあれば、そちらを通る経路を優先します。
    # - 引数の指定例は次のとおりです。
    # - 例1: 始点、終点、通らない座標を指定して、ある座標(13, 9)からアイテムのある(7、7)への最短経路を探し、その経路で1マス移動する
    #
    #     ```ruby
    #     list("$通らない座標").clear
    #     list("$通らない座標").push("9:9")
    #     koshien.calc_route(result: list("$最短経路"), src: "13:9", dst: "7:7", except_cells: list("$通らない経路"))
    #     koshien.move_to(list("$最短経路")[1])
    #     ```
    #
    # - 例2: 通らない座標のみを指定して、ゴールまでの最短経路を探し、その経路で1マス移動する
    #
    #     ```ruby
    #     list("$通らない座標").clear
    #     list("$通らない座標").push("9:9")
    #     koshien.calc_route(result: list("$最短経路"), except_cells: list("$通らない経路"))
    #     koshien.move_to(list("$最短経路")[1])
    #     ```
    #
    # - 例3: ゴールまでの最短経路を探し、その経路で1マス移動する
    #
    #     ```ruby
    #     koshien.calc_route(result: list("$最短経路"))
    #     koshien.move_to(list("$最短経路")[1])
    #     ```
    def calc_route(result:, src: player, dst: goal, except_cells: nil)
      result ||= List.new

      route = []
      result.replace(route.map { |x| Position.new(x).to_s })
      result
    end

    # :call-seq:
    #   koshien.map("0:0")
    #
    # 座標 (0:0) のマップ情報
    #
    # #### 実行内容
    #
    # - 指定した座標( `"x:y"` 形式)のマップ情報を参照します。
    #
    # #### 引数
    #
    # - 参照したい座標を `"x:y"` 形式で指定します。
    #
    # #### 解説
    #
    # - 参照するマップ情報は get_map_area 命令でゲームサーバーから取得した情報です。
    # - マップ情報を取得していない座標を指定した場合は、 `-1` が返されます。
    # - マップエリア外を指定した場合は、 `nil` が返されます。
    def map(position)
      # Stub implementation - returns -1 for unknown
      -1
    end

    # :call-seq:
    #   koshien.map_all
    #
    # 全体のマップ情報
    #
    # #### 実行内容
    #
    # - マップ全体のマップ情報を文字列で取得します。
    #
    # #### 引数
    #
    # なし
    #
    # #### 解説
    #
    # - マップ情報は get_map_area 命令でゲームサーバーから取得した情報です。
    # - 横一列のマップ情報を示す15文字毎にカンマ区切りで、縦の15行分の文字列です (説明のためにカンマのあとに改行を入れていますが、実際には改行なしの長い文字列です)。
    #
    #     ```text
    #     000000000000000,
    #     000000000000000,
    #     000000000000000,
    #     000000000000000,
    #     000000000000000,
    #     000000000000000,
    #     000000000000000,
    #     000000000000000,
    #     000000000000000,
    #     000000000000000,
    #     000000000000000,
    #     000000000000000,
    #     000000000000000,
    #     000000000000000,
    #     000000000000000
    #     ```
    # - マップ情報を取得していない座標は `-` が返されます。マップ情報では `-1` で表現されますが、ここでは1文字で表現するために `-` としています。
    # - 取得したマップ情報は変数に代入することを想定しています。
    #
    #     ```ruby
    #     $すべてのマップ情報 = koshien.map_all
    #     ```
    # - さらに、そこからある座標のマップ情報を参照するには map_from メソッドを使います。
    def map_all
      Map.new("").to_s
    end

    # :call-seq:
    #   koshien.map_from("0:0", $すべてのマップ情報)
    #
    # 座標 (0:0) のマップ情報を [すべてのマップ情報] から参照する
    #
    # #### 実行内容
    #
    # - map_all 命令で取得したマップから指定した座標( `"x:y"` 形式)のマップ情報を参照します。
    #
    # #### 引数
    #
    # - map_all 命令で取得したマップ、参照したい座標を `"x:y"` 形式で指定します。
    #
    # #### 解説
    #
    # - 参照するマップ情報は map_all 命令でゲームサーバーから取得した情報です。
    # - get_map_area 命令でマップ情報を取得していない座標を指定した場合は `-1` が返されます。
    # - マップエリア外の座標を指定した場合は `nil` が返されます。
    def map_from(position, from)
      map = Map.new(from)
      map.data(Position.new(position))
    end

    # :call-seq:
    #   koshien.locate_objects(result: list("$減点アイテム"), cent: "7:7", sq_size: 15, objects: "ABCD")
    #
    # 範囲内の地形・アイテム (中心 座標 (7:7) 、範囲 (15) 、地形・アイテム (ABCD))をリスト [減点アイテム] に保存する
    #
    # #### 実行内容
    #
    # - 指定した範囲に、指定した要素が存在するかどうかを確認します。
    # - 指定した要素がある座標を指定したリストに保存します。
    #
    # #### 引数
    #
    # - result: 結果を保存するリスト。あらかじめ作成しておく必要があります。
    # - cent: 指定する範囲の中心座標（省略時は現在地）
    # - sq_size: 指定する範囲の縦横のマスの長さ（省略時は5）
    # - objects: 確認したい要素の値。複数の場合は区切り文字なしで指定（省略時は減点アイテム全種類 `ABCD` ）
    #
    # #### 解説
    #
    # - 結果は指定したリストに保存します。
    # - リストの中の各座標はy座標が小さい順に並んでいます。（y座標が同じ場合は x座標の小さいほうが先になります。）
    # - マップ情報を取得していない座標の情報は確認できません。
    # - マップ全体を範囲指定したい場合は次のようになります。
    # - => 減点アイテム
    #     - 範囲内の地形・アイテム (中心 座標 (7:7) 、範囲 (15) 、地形・アイテム (ABCD))をリスト [減点アイテム] に保存する
    #     - `koshien.locate_objects(result: list("$減点アイテム"), cent: "7:7", sq_size: 15, objects: "ABCD")`
    # - => 加点アイテム
    #     - 範囲内の地形・アイテム (中心 座標 (7:7) 、範囲 (15) 、地形・アイテム (abcde))をリスト [加点アイテム] に保存する
    #     - `koshien.locate_objects(result: list("$加点アイテム"), cent: "7:7", sq_size: 15, objects: "abcde")`
    # - => 水たまり
    #     - 範囲内の地形・アイテム (中心 座標 (7:7) 、範囲 (15) 、地形・アイテム (4))をリスト [水たまり] に保存する
    #     - `koshien.locate_objects(result: list("$水たまり"), cent: "7:7", sq_size: 15, objects: "4")`
    def locate_objects(result:, sq_size: 5, cent: player, objects: "ABCD")
      result ||= List.new

      object_positions = []
      result.replace(object_positions.map { |x| Position.new(x).to_s })
      result
    end

    # :call-seq:
    #   koshien.position_of_x("0:0")
    #
    # (0:0) の [x座標]
    #
    # #### 実行内容
    #
    # - 座標 ( `"x:y"` 形式)からx座標を取得します
    #
    # #### 引数
    #
    # - 座標 ( `"x:y"` 形式)
    #
    # #### 解説
    #
    # - 最短経路命令や地形・アイテム命令で取得した座標 ( `"x:y"` 形式)からx座標を取得します
    def position_of_x(position)
      Position.new(position).x
    end

    # :call-seq:
    #   koshien.position_of_y("0:0")
    #
    # (0:0) の [y座標]
    #
    # #### 実行内容
    #
    # - 座標 ( `"x:y"` 形式)からy座標を取得します
    #
    # #### 引数
    #
    # - 座標 ( `"x:y"` 形式)
    #
    # #### 解説
    #
    # - 最短経路命令や地形・アイテム命令で取得した座標( `"x:y"` 形式)からy座標を取得します
    def position_of_y(position)
      Position.new(position).y
    end

    # :call-seq:
    #   koshien.other_player
    #
    # [対戦キャラクター] の [座標]
    #
    # #### 実行内容
    #
    # - 最後に get_map_area 命令で把握した対戦キャラクターの座標( `"x:y"` 形式)を返します。
    #
    # #### 解説
    #
    # - 得られる情報は、get_map_area 命令で把握した時点の情報です。
    # - 対戦キャラクターの座標は、get_map_area 命令の範囲に対戦キャラクターがいないと把握できません。
    # - 対戦キャラクターの座標を把握していない場合は `nil` が返されます。
    # - get_map_area 命令を繰り返し行っている場合、情報が上書きされていくため、一度把握した対戦キャラクターの座標を見失う場合があります。
    def other_player
      # Stub implementation - returns nil
      nil
    end

    # :call-seq:
    #   koshien.other_player_x
    #
    # [対戦キャラクター] の [x座標]
    #
    # #### 実行内容
    #
    # - 最後に get_map_area 命令で把握した対戦キャラクターのx座標を返します。
    #
    # #### 解説
    #
    # - 得られる情報は、get_map_area 命令で把握した時点の情報です。
    # - 対戦キャラクターの座標は、get_map_area 命令の範囲に対戦キャラクターがいないと把握できません。
    # - 対戦キャラクターの座標を把握していない場合は `nil` が返されます。
    # - get_map_area 命令を繰り返し行っている場合、情報が上書きされていくため、一度把握した対戦キャラクターの座標を見失う場合があります。
    def other_player_x
      # Stub implementation - returns nil
      nil
    end

    # :call-seq:
    #   koshien.other_player_y
    #
    # [対戦キャラクター] の [y座標]
    #
    # #### 実行内容
    #
    # - 最後に get_map_area 命令で把握した対戦キャラクターのy座標を返します。
    #
    # #### 解説
    #
    # - 得られる情報は、get_map_area 命令で把握した時点の情報です。
    # - 対戦キャラクターの座標は、get_map_area 命令の範囲に対戦キャラクターがいないと把握できません。
    # - 対戦キャラクターの座標を把握していない場合は `nil` が返されます。
    # - get_map_area 命令を繰り返し行っている場合、情報が上書きされていくため、一度把握した対戦キャラクターの座標を見失う場合があります。
    def other_player_y
      # Stub implementation - returns nil
      nil
    end

    # :call-seq:
    #   koshien.enemy
    #
    # [妨害キャラクター] の [座標]
    #
    # #### 実行内容
    #
    # - 最後に get_map_area 命令を実行した時点の妨害キャラクターの座標( `"x:y"` 形式)を返します。
    #
    # #### 解説
    #
    # - 得られる情報は、最後に get_map_area 命令を実行した時点の情報です。
    # - 妨害キャラクターの座標は、 get_map_area 命令の範囲に妨害キャラクターがいなくても把握できます。
    def enemy
      # Stub implementation - returns nil
      nil
    end

    # :call-seq:
    #   koshien.enemy_x
    #
    # [妨害キャラクター] の [x座標]
    #
    # #### 実行内容
    #
    # - 最後に get_map_area 命令を実行した時点の妨害キャラクターのx座標を返します。
    #
    # #### 解説
    #
    # - 得られる情報は、最後に get_map_area 命令を実行した時点の情報です。
    # - 妨害キャラクターの座標は、 get_map_area 命令の範囲に妨害キャラクターがいなくても把握できます。
    def enemy_x
      # Stub implementation - returns nil
      nil
    end

    # :call-seq:
    #   koshien.enemy_y
    #
    # [妨害キャラクター] の [y座標]
    #
    # #### 実行内容
    #
    # - 最後に get_map_area 命令を実行した時点の妨害キャラクターのy座標を返します。
    #
    # #### 解説
    #
    # - 得られる情報は、最後に get_map_area 命令を実行した時点の情報です。
    # - 妨害キャラクターの座標は、 get_map_area 命令の範囲に妨害キャラクターがいなくても把握できます。
    def enemy_y
      # Stub implementation - returns nil
      nil
    end

    # :call-seq:
    #   koshien.goal
    #
    # [ゴール] の [座標]
    #
    # #### 実行内容
    #
    # - ゴールの座標( `"x:y"` 形式)を返します。
    #
    # #### 解説
    #
    # - ゴールの座標は、マップ情報を取得していなくても参照できます。
    def goal
      # Stub implementation - returns nil
      nil
    end

    # :call-seq:
    #   koshien.goal_x
    #
    # [ゴール] の [x座標]
    #
    # #### 実行内容
    #
    # - ゴールのx座標を返します。
    #
    # #### 解説
    #
    # - ゴールの座標は、マップ情報を取得していなくても参照できます。
    def goal_x
      # Stub implementation - returns nil
      nil
    end

    # :call-seq:
    #   koshien.goal_y
    #
    # [ゴール] の [y座標]
    #
    # #### 実行内容
    #
    # - ゴールのy座標を返します。
    #
    # #### 解説
    #
    # - ゴールの座標は、マップ情報を取得していなくても参照できます。
    def goal_y
      # Stub implementation - returns nil
      nil
    end

    # :call-seq:
    #   koshien.player
    #
    # [プレイヤー] の [座標]
    #
    # #### 実行内容
    #
    # - プレイヤーの座標( `"x:y"` 形式)を返します。
    #
    # #### 解説
    #
    # - プレイヤーの座標は、マップ情報を取得していなくても参照できます。
    def player
      position(0, 0)
    end

    # :call-seq:
    #   koshien.player_x
    #
    # [プレイヤー] の [x座標]
    #
    # #### 実行内容
    #
    # - プレイヤーのx座標を返します。
    #
    # #### 解説
    #
    # - プレイヤーの座標は、マップ情報を取得していなくても参照できます。
    def player_x
      0
    end

    # :call-seq:
    #   koshien.player_y
    #
    # [プレイヤー] の [y座標]
    #
    # #### 実行内容
    #
    # - プレイヤーのy座標を返します。
    #
    # #### 解説
    #
    # - プレイヤーの座標は、マップ情報を取得していなくても参照できます。
    def player_y
      0
    end

    # :call-seq:
    #   koshien.object("water")
    #   koshien.object("水たまり")
    #
    # [水たまり]
    #
    # #### 実行内容
    #
    # - 「水たまり」「草薙剣」などの指定したマップ情報の種類に対応したマップ情報(水たまりは `4` 、草薙剣は `"e"` など)を取得します
    #
    # #### 引数
    #
    # - マップ情報の種類
    #
    # #### 解説
    #
    # - マップ情報の種類に対応したマップ情報を使って、例えば map 命令で取得したマップ情報を比較することができます。
    # - 例: 座標 7:7 が水たまりならば xxx を行う (xxx は任意の命令を示しています)
    #
    #     ```ruby
    #     if koshien.map("7:7") == koshien.object("water")
    #       xxx
    #     end
    #     ```
    def object(name)
      case name
      when "unknown", "未探索のマス", "みたんさくのマス"
        -1
      when "space", "空間", "くうかん"
        0
      when "wall", "壁", "かべ"
        1
      when "storehouse", "蔵", "くら"
        2
      when "goal", "ゴール"
        3
      when "water", "水たまり", "みずたまり"
        4
      when "breakable wall", "壊せる壁", "こわせるかべ"
        5
      when "tea", "お茶", "おちゃ"
        "a"
      when "sweets", "和菓子", "わがし"
        "b"
      when "COIN", "丁銀", "ちょうぎん"
        "c"
      when "dolphin", "シロイルカ"
        "d"
      when "sword", "草薙剣", "くさなぎのつるぎ"
        "e"
      when "poison", "毒キノコ", "どくキノコ"
        "A"
      when "snake", "蛇", "へび"
        "B"
      when "trap", "トラバサミ"
        "C"
      when "bomb", "爆弾", "ばくだん"
        "D"
      else
        -1
      end
    end

    # :call-seq:
    #   koshien.set_message("こんにちは")
    #
    # メッセージ[こんにちは]
    #
    # #### 実行内容
    #
    # - メッセージを表示します。
    #
    # #### 引数
    #
    # - メッセージ。最大100文字。
    #
    # #### 解説
    #
    # - AI開発時の動作確認に使うことを想定しています。
    def set_message(message)
      # Stub implementation - just log the message
      log("Message: #{message}")
    end

    private

    def log(message)
      # Simple logging - could be expanded if needed
      puts message
    end
  end
end

require_relative "koshien/position"
require_relative "koshien/map"
